<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', path='/style.css') }}">
    <style>
        /* Additional CSS styles */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 80px; /* Adjust the height as needed */
            background-color: #333; /* Example background color */
            color: #fff; /* Example text color */
            padding: 20px; /* Example padding */
            z-index: 1000; /* Ensure the header is above other content */
        }

        .gallery-container {
            padding-top: 100px; /* Adjust the value based on the height of your fixed header */
        }
    </style>
</head>
<body>
<header>
    <img src="https://media4.giphy.com/headers/levberry/wWIVadS9YYBK.gif" alt="Lofi Browsing GIF" class="header-gif">
    <div class="header-content">
        <h1>WhoJoshi Gallery</h1>
    </div>
</header>
<!-- Horizontal line below the header -->
<div class="header-line"></div>

<div class="gallery-container">
    <div class="gallery">
        {% for url in image_urls %}
        <div class="gallery-item">
            <img src="{{ url }}" alt="Image" class="gallery-image">
        </div>
        {% endfor %}
    </div>
</div>
<!-- Modal Container -->
<div id="modal" class="modal">
    <span class="close">&times;</span>
    <img id="modal-image" class="modal-content" src="">
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
    const modal = document.getElementById("modal");
    const modalImage = document.getElementById("modal-image");
    const closeBtn = document.getElementsByClassName("close")[0];
    let currentImageIndex = 0;
    const galleryItems = document.querySelectorAll(".gallery-item");
    const totalImages = galleryItems.length;

    // Function to open modal with clicked image
    function openModal(imageUrl) {
        modal.style.display = "block";
        modalImage.src = imageUrl;
        modalImage.style.marginTop = ((window.innerHeight - modalImage.height) / 2) + "px";
    }


    // Function to close modal
    function closeModal() {
        modal.style.display = "none";
    }

    // Event listener for image clicks
    galleryItems.forEach((item, index) => {
        item.addEventListener("click", function () {
            currentImageIndex = index;
            const imageUrl = this.querySelector("img").src;
            openModal(imageUrl);
        });
    });

    // Event listener for close button click
    closeBtn.addEventListener("click", closeModal);

    // Event listener for clicking outside the modal to close it
    window.addEventListener("click", function (event) {
        if (event.target == modal) {
            closeModal();
        }
    });

    // Function to navigate to the next image
    function nextImage() {
        currentImageIndex = (currentImageIndex + 1) % totalImages;
        const nextImageUrl = galleryItems[currentImageIndex].querySelector("img").src;
        openModal(nextImageUrl);
    }

    // Function to navigate to the previous image
    function prevImage() {
        currentImageIndex = (currentImageIndex - 1 + totalImages) % totalImages;
        const prevImageUrl = galleryItems[currentImageIndex].querySelector("img").src;
        openModal(prevImageUrl);
    }

    // Event listener for arrow key presses
    document.addEventListener("keydown", function (event) {
        if (modal.style.display === "block") {
            if (event.key === "ArrowRight") {
                nextImage();
            } else if (event.key === "ArrowLeft") {
                prevImage();
            }
        }
    });
});

</script>
</body>
</html>
